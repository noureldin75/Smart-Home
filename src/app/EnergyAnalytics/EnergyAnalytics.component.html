<div class="page-container">

  <!-- 
    1. Ø¹Ø·ÙŠÙ†Ø§ Ø§Ù„Ø³Ø§ÙŠØ¯ Ø¨Ø§Ø± Ø§Ø³Ù… Ù…Ø±Ø¬Ø¹ÙŠ #sidebarRef 
    Ø¯Ù‡ Ø¨ÙŠØ®Ù„ÙŠÙ†Ø§ Ù†Ù‚Ø¯Ø± Ù†Ø´ÙˆÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„ÙŠ Ø¬ÙˆØ§Ù‡ (Ø²ÙŠ isSidebarExpanded) Ù…Ø¨Ø§Ø´Ø±Ø© Ù‡Ù†Ø§
  -->
  <app-sidebar #sidebarRef class="sidebar"></app-sidebar>

  <!-- 
    2. Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ Ø¯Ù‡ Ø¹Ø´Ø§Ù† Ù†ØªØ­ÙƒÙ… ÙÙŠ ÙƒÙ„Ø§Ø³Ø§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰ 
    Ù„Ø§Ø­Ø¸: !sidebarRef.isSidebarExpanded Ø¨Ø¯Ù„ Ù…Ø§ Ù†ÙƒØªØ¨ ÙƒÙˆØ¯ ÙÙŠ Ø§Ù„Ù€ TS
  -->
  <main class="main-content" 
        [class.collapsed]="!sidebarRef.isSidebarExpanded">

    <div class="cards-container">
      <div *ngFor="let card of cards" class="energy-card" [ngClass]="card.type">
        <div class="icon-wrapper">{{card.icon}}</div>
        <div class="card-content">
          <h3>{{card.title}}</h3>
          <div class="value">
            <h1>{{card.value}}</h1>
          </div>
          <p>{{card.subvalue}}</p>
        </div>
      </div>
    </div>

    <!-- Chart Section -->
    <div class="chart-container">
       <h3>Power Consumption (Today)</h3>
       <div class="bar-chart">
         <div class="bar-wrapper" *ngFor="let item of powerConsumption">
            <div class="bar" 
                 [style.height.%]="getBarHeight(item.consumption)"
                 [class.high-usage]="isHighUsage(item.consumption)">
                 <span class="tooltip">{{item.consumption}} kW</span>
            </div>
            <span class="label">{{item.time}}</span>
         </div>
       </div>
    </div>

    <div class="peak-usage">
      <div class="usage-icon">ðŸ“ˆ</div>
      <div class="usage-content">
        <h3>Peak Usage: 2 PM - 6 PM</h3>
        <p>Consider shifting high-power activities to off-peak hours.</p>
      </div>
    </div>
      
  </main>
</div>