<div class="homepage-container">
  <!-- Modern Smart Home Sidebar -->
 
  <!-- Main Content -->
  <main class="main-content" [class.sidebar-expanded]="isSidebarExpanded">
    <!-- Top Bar with Search, Notifications, Settings -->
    <header class="top-bar">
      <div class="top-bar-left">
        <h1 class="welcome-title">Welcome to Your Smart Home</h1>
        <p class="welcome-slogan">Everything is under your intelligent control</p>
      </div>
      
      <div class="top-bar-right">
        <div class="search-bar">
          <input type="text" placeholder="Search devices, rooms, settings..." class="search-input">
          <span class="search-icon">ğŸ”</span>
        </div>
        <div class="top-bar-actions">
          <button class="action-btn notification-btn" (click)="toggleNotifications()">
            <span class="action-icon">ğŸ””</span>
            <span class="notification-badge">3</span>
          </button>
          
          <button class="action-btn settings-btn" (click)="openSettings()">
            <span class="action-icon">âš™ï¸</span>
          </button>
          
          <div class="user-avatar">
            <span class="avatar-fallback">ğŸ‘¤</span>
          </div>
        </div>
      </div>
    </header>
    <!-- Recently Activities Section -->
    <section class="recent-activities">
      <h2 class="section-title">Recent Activities</h2>
      <div class="activities-grid">
        <div *ngFor="let activity of recentActivities" 
             class="activity-item" 
             [class]="'priority-' + activity.priority">
          <div class="activity-icon">{{ activity.icon }}</div>
          <div class="activity-content">
            <div class="activity-title">{{ activity.title }}</div>
            <div class="activity-time">{{ activity.time }}</div>
          </div>
          <div class="activity-priority-indicator"></div>
        </div>
      </div>
    </section>

    <!-- Dashboard Grid -->
    <div class="dashboard-grid">
      
      <!-- Weather Card -->
      <section class="dashboard-card weather-section">
        <div class="weather-card" [class.expanded]="weatherExpanded" (click)="toggleWeather()">
          <!-- Compressed View -->
          <div class="weather-compressed">
            <div class="weather-basic">
              <div class="weather-icon">
                <div class="weather-animation" [class]="currentWeather.animation"></div>
              </div>
              <div class="weather-info">
                <div class="location">
                  <span class="location-icon">ğŸ“</span>
                  <span class="location-text">Current Location</span>
                </div>
                <div class="temperature-main">{{ currentWeather.temperature }}Â°C</div>
                <div class="weather-description">{{ currentWeather.description }}</div>
                <div class="temperature-range">
                  H:{{ currentWeather.high }}Â°C L:{{ currentWeather.low }}Â°C
                </div>
              </div>
            </div>
            <div class="expand-indicator">
              <span class="expand-icon" [class.expanded]="weatherExpanded">â–¼</span>
            </div>
          </div>

          <!-- Expanded View -->
          <div class="weather-expanded" *ngIf="weatherExpanded">
            <div class="detailed-weather">
              <div class="detail-grid">
         <div class="detail-item">


       <div class="detail-icon">ğŸ’§</div>
            
       <div class="detail-info">
     <div class="detail-label">Humidity</div>
             <div class="detail-value">{{ currentWeather.humidity }}%</div>
                  </div>
                </div>
                <div class="detail-item">
                  <div class="detail-icon">ğŸ’¨</div>
                  <div class="detail-info">
                    <div class="detail-label">Wind</div>
                    <div class="detail-value">{{ currentWeather.windSpeed }} km/h</div>
                  </div>
                </div>
                <div class="detail-item">
                  <div class="detail-icon">ğŸŒ§ï¸</div>
                  <div class="detail-info">
                    <div class="detail-label">Rain</div>
                    <div class="detail-value">{{ currentWeather.rainChance }}%</div>
                  </div>
                </div>
                <div class="detail-item">
                  <div class="detail-icon">ğŸ˜Š</div>
                  <div class="detail-info">
                    <div class="detail-label">Feels Like</div>
                    <div class="detail-value">{{ currentWeather.feelsLike }}Â°C</div>
                  </div>
                </div>
              </div>

              <!-- Hourly Forecast -->
              <div class="hourly-forecast">
                <h3 class="section-title">24-Hour Forecast</h3>
                <div class="hourly-scroll">
                  <div *ngFor="let hour of hourlyForecast" class="hour-item">
                    <div class="hour-time">{{ hour.time }}</div>
                    <div class="hour-icon">
                      <div class="hour-animation" [class]="hour.animation"></div>
                    </div>
                    <div class="hour-temp">{{ hour.temperature }}Â°</div>
                  </div>
                </div>
              </div>

              <!-- Weather Advice -->
              <div class="weather-advice" [class]="currentWeather.adviceLevel">
                <div class="advice-icon">ğŸ’¡</div>
                <div class="advice-text">{{ currentWeather.advice }}</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Prayer Card -->
      <section class="dashboard-card prayer-section">
        <app-homepagesec></app-homepagesec>
      </section>

      <!-- Security Camera Card -->
      <section class="dashboard-card security-section">
        <div class="security-card">
          <div class="card-header">
            <h3 class="card-title">Entrance Security</h3>
            <div class="security-status" [class]="securityStatus">
              <div class="status-dot"></div>
              <span class="status-text">{{ securityStatus }}</span>
            </div>
          </div>
          
          <div class="camera-feed">
            <div class="camera-placeholder">
              <div class="camera-icon">ğŸ“¹</div>
              <p>Live Camera Feed</p>
              <div class="recording-indicator">
                <div class="recording-dot"></div>
                <span>REC</span>
              </div>
            </div>
          </div>
          
          <div class="security-controls">
            <button class="security-btn lock-btn" (click)="toggleDoorLock()">
              <span class="btn-icon">ğŸ”’</span>
              <span>{{ doorLocked ? 'Unlock' : 'Lock' }} Door</span>
            </button>
            <button class="security-btn alarm-btn" (click)="toggleAlarm()">
              <span class="btn-icon">ğŸš¨</span>
              <span>{{ alarmArmed ? 'Disarm' : 'Arm' }} Alarm</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Power Consumption Card -->
      <section class="dashboard-card power-section">
        <div class="power-card">
          <div class="card-header">
            <h3 class="card-title">Power Consumption</h3>
            <div class="power-stats">
              <span class="power-value">1.2 kW</span>
              <span class="power-trend">â†“ 12%</span>
            </div>
          </div>
          
          <div class="power-chart">
            <div class="chart-container">
              <div *ngFor="let hour of powerConsumption" class="chart-bar">
                <div class="bar-fill" [style.height]="hour.consumption + '%'"></div>
                <span class="bar-label">{{ hour.time }}</span>
              </div>
            </div>
          </div>
          
          <div class="power-breakdown">
            <div class="breakdown-item">
              <span class="breakdown-label">Lighting</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 35%"></div>
              </div>
              <span class="breakdown-value">35%</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Appliances</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 45%"></div>
              </div>
              <span class="breakdown-value">45%</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Climate</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 20%"></div>
              </div>
              <span class="breakdown-value">20%</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Family Members Card -->
      <section class="dashboard-card members-section">
        <div class="members-card">
          <div class="card-header">
            <h3 class="card-title">Family Members</h3>
            <span class="members-count">{{ getOnlineMembers() }} Online</span>
          </div>
          
          <div class="members-grid">
            <div *ngFor="let member of familyMembers" class="member-item">
              <div class="member-avatar" [class]="member.status">
                <span class="avatar-fallback">{{ member.emoji }}</span>
                <div class="status-indicator"></div>
              </div>
              <div class="member-info">
                <div class="member-name">{{ member.name }}</div>
                <div class="member-location">{{ member.location }}</div>
              </div>
              <div class="member-actions">
                <button class="member-action-btn">ğŸ’¬</button>
              </div>
            </div>
          </div>
          
          <div class="quick-actions">
           
          </div>
        </div>
      </section>

      <!-- Accessories Control Card -->
      <section class="dashboard-card accessories-section">
        <div class="accessories-card">
          <div class="card-header">
            <h3 class="card-title">Accessories Control</h3>
            <div class="wifi-status">
              <span class="wifi-icon">ğŸ“¶</span>
              <span class="wifi-strength">Excellent</span>
            </div>
          </div>
          
          <div class="accessories-grid">
            <!-- Outdoor Lights -->
            <div class="accessory-item">
              <div class="accessory-header">
                <span class="accessory-icon">ğŸ’¡</span>
                <span class="accessory-name">Outdoor Lights</span>
              </div>
              <div class="accessory-controls">
                <label class="toggle-switch">
                  <input type="checkbox" [checked]="outdoorLightsOn" (change)="toggleOutdoorLights()">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            
            <!-- Window Locks -->
            <div class="accessory-item">
              <div class="accessory-header">
                <span class="accessory-icon">ğŸ”’</span>
                <span class="accessory-name">Window Locks</span>
              </div>
              <div class="accessory-controls">
                <label class="toggle-switch">
                  <input type="checkbox" [checked]="windowLocksOn" (change)="toggleWindowLocks()">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            
            <!-- Temperature Control -->
            <div class="accessory-item temperature-control">
              <div class="accessory-header">
                <span class="accessory-icon">â„ï¸</span>
                <span class="accessory-name">Home Temperature</span>
              </div>
              <div class="temperature-display">{{ homeTemperature }}Â°C</div>
              <div class="intensity-control">
                <input type="range" min="16" max="30" [value]="homeTemperature" 
                       (input)="onTemperatureChange($event)" class="temp-slider">
                <div class="temp-markers">
                  <span>16Â°</span>
                  <span>23Â°</span>
                  <span>30Â°</span>
                </div>
              </div>
            </div>
            
            <!-- Sleep Mode -->
            <div class="accessory-item sleep-mode">
              <div class="accessory-header">
                <span class="accessory-icon">ğŸ˜´</span>
                <span class="accessory-name">Sleep Mode</span>
              </div>
              <div class="accessory-controls">
                <label class="toggle-switch">
                  <input type="checkbox" [checked]="sleepModeOn" (change)="toggleSleepMode()">
                  <span class="slider"></span>
                </label>
              </div>
              <div class="sleep-mode-info" *ngIf="sleepModeOn">
                <p>â€¢ Lights dimmed to 20%</p>
                <p>â€¢ Volume reduced by 70%</p>
                <p>â€¢ Temperature set to 21Â°C</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 3D Home View Card -->
      <section class="dashboard-card home-3d-section">
        <div class="home-3d-card">
          <!-- Card Header -->
          <div class="card-header">
            <h3 class="card-title">Home 3D View</h3>
            <div class="view-controls">
              <button class="view-btn active" (click)="setViewMode('isometric')">Isometric</button>
              <button class="view-btn" (click)="setViewMode('topdown')">Top Down</button>
              <button class="view-btn" (click)="toggleLights()">
                <span class="btn-icon">{{ homeLightsOn ? 'ğŸ’¡' : 'ğŸŒ™' }}</span>
              </button>
            </div>
          </div>

          <!-- 3D Home Visualization -->
          <div class="home-visualization">
            <div class="isometric-home" [class.lights-on]="homeLightsOn">
              <!-- Simplified 3D View -->
              <div class="building-outline">
                <div class="room living-room" (click)="selectRoom3D('living-room')" [class.active]="selectedRoom === 'living-room'">
                  <div class="room-label">Living Room</div>
                </div>
                <div class="room kitchen" (click)="selectRoom3D('kitchen')" [class.active]="selectedRoom === 'kitchen'">
                  <div class="room-label">Kitchen</div>
                </div>
                <div class="room bedroom" (click)="selectRoom3D('bedroom')" [class.active]="selectedRoom === 'bedroom'">
                  <div class="room-label">Bedroom</div>
                </div>
                <div class="room office" (click)="selectRoom3D('office')" [class.active]="selectedRoom === 'office'">
                  <div class="room-label">Office</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Room Details Panel -->
          <div class="room-details" *ngIf="selectedRoom">
            <div class="details-header">
              <h4>{{ getRoomName(selectedRoom) }}</h4>
              <button class="close-btn" (click)="deselectRoom()">Ã—</button>
            </div>
            <div class="details-content">
              <div class="room-stats">
                <div class="stat">
                  <span class="stat-value">{{ getRoomDeviceCount(selectedRoom) }}</span>
                  <span class="stat-label">Devices</span>
                </div>
                <div class="stat">
                  <span class="stat-value">{{ getRoomTemperature(selectedRoom) }}</span>
                  <span class="stat-label">Temperature</span>
                </div>
              </div>
           <div class="quick-actions">
          <button class="action-btn" (click)="toggleRoomLights(selectedRoom)">
      <span class="action-icon">ğŸ’¡</span>
        <span>Lights</span>
                </button>
                <button class="action-btn" (click)="adjustRoomTemperature(selectedRoom)">
                  <span class="action-icon">â„ï¸</span>
         <span>Climate</span>
                </button>
     </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Jarvis AI Card -->
      <section class="dashboard-card jarvis-section">
        <div class="jarvis-card">
    <div class="card-header">
            <h3 class="card-title">Jarvis AI Assistant</h3>
    <div class="ai-status" [class]="jarvisStatus">
          <div class="status-dot"></div>
       <span class="status-text">{{ jarvisStatus }}</span>
            </div>
          </div>
          
          <div class="jarvis-interface">
            <div class="jarvis-messages">
              <div *ngFor="let message of jarvisMessages" 
                   class="message" 
                   [class]="message.type">
                <div class="message-content">{{ message.content }}</div>
                <div class="message-time">{{ message.time }}</div>
              </div>
            </div>
            
            <div class="jarvis-input">
              <input type="text" placeholder="Ask Jarvis anything..." 
                     [(ngModel)]="jarvisInput" 
                                      (keyup.enter)="sendToJarvis()"
                 class="jarvis-text-input">
        <button class="send-btn" (click)="sendToJarvis()">
            <span class="send-icon">ğŸ¤</span>
          </button>
            </div>
          </div>
          
          <div class="quick-commands">
            <button *ngFor="let command of quickCommands" 
                    class="command-btn" 
                    (click)="executeQuickCommand(command)">
              {{ command }}
            </button>
          </div>
        </div>
      </section>

    </div>
  </main>
</div>